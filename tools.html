<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Origin Zero - Tools</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: { primary: "#731C9E", secondary: "#4B0082" },
            borderRadius: {
              button: "8px",
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-[#0F0B1E] text-gray-100">
    <!-- Header (same as main page) -->
    <nav class="fixed w-full bg-[#0F0B1E]/90 backdrop-blur-sm z-50">
      <div class="max-w-7xl mx-auto px-4">
        <div class="flex justify-between items-center h-16">
          <div class="flex items-center">
            <img
              src="https://firebasestorage.googleapis.com/v0/b/graphite-d460b.appspot.com/o/user%2FPIvsPj0RsdVHNdbxYFhZ3NJjAjy1%2FrQMWj4VD2icIKLIeGFoD%2Fimages%2FBzY3nzlkXMyk3BY1FCNd.png?alt=media&token=63bf8d85-c638-452a-836c-0cf1a55d30e8"
              alt="Origin Zero"
              class="h-8"
            />
          </div>
          <div class="hidden md:flex items-center space-x-8">
            <a
              href="https://origin-mc.net/tools"
              class="text-gray-300 hover:text-primary"
              >Tools</a
            >
            <a
              href="http://map.origin-mc.net:24935"
              class="text-gray-300 hover:text-primary"
              >Map</a
            >
            <a
              href="https://originzero.flarum.cloud"
              class="text-gray-300 hover:text-primary"
              >Forums</a
            >
            <button
              class="bg-primary text-white px-6 py-2 !rounded-button hover:bg-primary/90"
              onclick="navigator.clipboard.writeText('play.origin-mc.net'); document.getElementById('notification').style.transform = 'translateY(0)'; document.getElementById('notification').style.opacity = '1'; setTimeout(() => { document.getElementById('notification').style.transform = 'translateY(full)'; document.getElementById('notification').style.opacity = '0'; }, 2000);"
            >
              Join Now
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Hero Section (optional banner for Tools) -->
    <section class="relative min-h-[30vh] pt-16 flex items-center justify-center bg-cover bg-center" style="background-image: url('https://firebasestorage.googleapis.com/v0/b/graphite-d460b.appspot.com/o/user%2FPIvsPj0RsdVHNdbxYFhZ3NJjAjy1%2FrQMWj4VD2icIKLIeGFoD%2Fimages%2F6vQmzwweM0F3NGOOokNF.png?alt=media');">
      <div class="absolute inset-0 bg-gradient-to-b from-black/40 to-[#0F0B1E]"></div>
      <div class="relative z-10 text-center">
        <h1 class="text-5xl font-bold text-white mb-4">NationCraft Tools</h1>
        <p class="text-xl text-white/90">A collection of calculators and simulators to help you manage your Minecraft nation.</p>
      </div>
    </section>

    <!-- Main Tools Section with Tabbed Interface -->
    <section class="py-16">
      <div class="max-w-7xl mx-auto px-4">
        <!-- Tabs Navigation -->
        <nav class="flex justify-center mb-8">
          <button class="tab-button px-4 py-2 mx-1 border-b-2 border-transparent hover:border-primary focus:outline-none" data-tab="happiness">Happiness</button>
          <button class="tab-button px-4 py-2 mx-1 border-b-2 border-transparent hover:border-primary focus:outline-none" data-tab="housing">Housing</button>
          <button class="tab-button px-4 py-2 mx-1 border-b-2 border-transparent hover:border-primary focus:outline-none" data-tab="territory">Territory</button>
          <button class="tab-button px-4 py-2 mx-1 border-b-2 border-transparent hover:border-primary focus:outline-none" data-tab="drill">Multi-Drill</button>
          <button class="tab-button px-4 py-2 mx-1 border-b-2 border-transparent hover:border-primary focus:outline-none" data-tab="factory">Factory</button>
          <button class="tab-button px-4 py-2 mx-1 border-b-2 border-transparent hover:border-primary focus:outline-none" data-tab="war">War</button>
        </nav>

        <!-- Tab Contents -->
        <div id="tab-contents" class="space-y-12">
          <!-- Happiness Calculator Tab -->
          <div id="happiness" class="tab-content hidden">
            <div class="bg-[#1A1333] p-6 rounded-lg shadow-lg">
              <h3 class="text-2xl font-bold mb-4">Happiness Calculator</h3>
              <div class="space-y-4">
                <div>
                  <label for="happinessPopulation" class="block text-gray-300 mb-1">Nation Population:</label>
                  <input type="number" id="happinessPopulation" placeholder="Enter current nation population" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                </div>
                <div>
                  <label for="happinessAvgDistance" class="block text-gray-300 mb-1">Average Distance:</label>
                  <input type="number" id="happinessAvgDistance" placeholder="Enter average distance" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                </div>
                <div>
                  <label for="happinessPercSheltered" class="block text-gray-300 mb-1">Percentage Sheltered:</label>
                  <input type="number" id="happinessPercSheltered" placeholder="Enter percentage sheltered" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                </div>
                <div>
                  <label for="happinessTaxrate" class="block text-gray-300 mb-1">Taxrate:</label>
                  <input type="number" id="happinessTaxrate" placeholder="Enter taxrate" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                </div>
                <button onclick="calculateHappiness()" class="bg-primary text-white px-4 py-2 rounded hover:bg-primary/90">Calculate</button>
                <div class="mt-4 text-gray-200" id="happinessResult"></div>
                <a href="javascript:void(0)" onclick="toggleAdvanced('happiness')" class="block mt-4 text-primary font-bold">
                  Advanced <span id="happinessAdvancedToggle">▼</span>
                </a>
                <div id="happinessAdvanced" class="mt-4 hidden space-y-4">
                  <div>
                    <label for="happinessInterval" class="block text-gray-300 mb-1">Interval:</label>
                    <input type="number" id="happinessInterval" value="120" placeholder="Enter interval" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div>
                    <label for="happinessMaxTaxrate" class="block text-gray-300 mb-1">Max Taxrate:</label>
                    <input type="number" id="happinessMaxTaxrate" value="20" placeholder="Enter max taxrate" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div id="happinessAdvancedInfo" class="text-gray-200"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Housing Block Price Calculator Tab -->
          <div id="housing" class="tab-content hidden">
            <div class="bg-[#1A1333] p-6 rounded-lg shadow-lg">
              <h3 class="text-2xl font-bold mb-4">Housing Block Price Calculator</h3>
              <div class="space-y-4">
                <div>
                  <label for="housingPopulation" class="block text-gray-300 mb-1">Nation Population:</label>
                  <input type="number" id="housingPopulation" placeholder="Enter current nation population" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                </div>
                <button onclick="calculateHousing()" class="bg-primary text-white px-4 py-2 rounded hover:bg-primary/90">Calculate</button>
                <div class="mt-4 text-gray-200" id="housingResult"></div>
                <a href="javascript:void(0)" onclick="toggleAdvanced('housing')" class="block mt-4 text-primary font-bold">
                  Advanced <span id="housingAdvancedToggle">▼</span>
                </a>
                <div id="housingAdvanced" class="mt-4 hidden space-y-4">
                  <div>
                    <label for="housingMultiplier" class="block text-gray-300 mb-1">Multiplier:</label>
                    <input type="number" id="housingMultiplier" value="2" placeholder="Enter multiplier" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div id="housingAdvancedInfo" class="text-gray-200"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Territory Price Calculator Tab -->
          <div id="territory" class="tab-content hidden">
            <div class="bg-[#1A1333] p-6 rounded-lg shadow-lg">
              <h3 class="text-2xl font-bold mb-4">Territory Price Calculator</h3>
              <div class="space-y-4">
                <div>
                  <label for="territoryChunks" class="block text-gray-300 mb-1">Current Claimed Chunks:</label>
                  <input type="number" id="territoryChunks" placeholder="Enter your current claimed chunks" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                </div>
                <button onclick="calculateTerritory()" class="bg-primary text-white px-4 py-2 rounded hover:bg-primary/90">Calculate Price</button>
                <div class="mt-4 text-gray-200" id="territoryResult"></div>
                <a href="javascript:void(0)" onclick="toggleAdvanced('territory')" class="block mt-4 text-primary font-bold">
                  Advanced <span id="territoryAdvancedToggle">▼</span>
                </a>
                <div id="territoryAdvanced" class="mt-4 hidden space-y-4">
                  <div>
                    <label for="territoryDivisor" class="block text-gray-300 mb-1">Divisor:</label>
                    <input type="number" id="territoryDivisor" value="2" placeholder="Enter divisor" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div id="territoryAdvancedInfo" class="text-gray-200"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Multi-Drill Efficiency Calculator Tab -->
          <div id="drill" class="tab-content hidden">
            <div class="bg-[#1A1333] p-6 rounded-lg shadow-lg">
              <h3 class="text-2xl font-bold mb-4">Multi-Drill Efficiency Calculator</h3>
              <div class="space-y-4">
                <div>
                  <label for="drillRuntime" class="block text-gray-300 mb-1">Total Runtime (minutes):</label>
                  <input type="number" id="drillRuntime" value="120" placeholder="Enter runtime in minutes" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                </div>
                <div id="drillList" class="space-y-2"></div>
                <div class="flex space-x-4">
                  <button onclick="addDrill()" class="bg-primary text-white px-4 py-2 rounded hover:bg-primary/90">Add Drill</button>
                  <button onclick="calculateDrill()" class="bg-primary text-white px-4 py-2 rounded hover:bg-primary/90">Calculate Efficiency</button>
                </div>
                <div class="mt-4 text-gray-200" id="drillResult"></div>
                <a href="javascript:void(0)" onclick="toggleAdvanced('drill')" class="block mt-4 text-primary font-bold">
                  Advanced <span id="drillAdvancedToggle">▼</span>
                </a>
                <div id="drillAdvanced" class="mt-4 hidden space-y-4">
                  <!-- Advanced drill stats can be inserted here if desired -->
                </div>
              </div>
            </div>
          </div>

          <!-- Factory Supply Calculator Tab -->
          <div id="factory" class="tab-content hidden">
            <div class="bg-[#1A1333] p-6 rounded-lg shadow-lg">
              <h3 class="text-2xl font-bold mb-4">Factory Supply Calculator</h3>
              <div class="space-y-4">
                <div>
                  <label for="currentFactories" class="block text-gray-300 mb-1">Current Factories:</label>
                  <input type="number" id="currentFactories" placeholder="Enter current number of factories" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                </div>
                <button onclick="calculateFactory()" class="bg-primary text-white px-4 py-2 rounded hover:bg-primary/90">Calculate</button>
                <div class="mt-4 text-gray-200" id="factoryResult"></div>
                <a href="javascript:void(0)" onclick="toggleAdvanced('factory')" class="block mt-4 text-primary font-bold">
                  Advanced <span id="factoryAdvancedToggle">▼</span>
                </a>
                <div id="factoryAdvanced" class="mt-4 hidden space-y-4">
                  <div>
                    <label for="additionalFactories" class="block text-gray-300 mb-1">Additional Factories to Purchase:</label>
                    <input type="number" id="additionalFactories" value="0" placeholder="Enter additional factories" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div id="factoryAdvancedInfo" class="text-gray-200"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- War Simulator Tab -->
          <div id="war" class="tab-content hidden">
            <div class="bg-[#1A1333] p-6 rounded-lg shadow-lg">
              <h3 class="text-2xl font-bold mb-4">War Simulator</h3>
              <div class="space-y-4">
                <div>
                  <label for="frontline" class="block text-gray-300 mb-1">Chunk Frontline Number:</label>
                  <input type="number" id="frontline" placeholder="Enter number of frontline chunks" required class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                </div>
                <h4 class="text-xl font-semibold">Attacker Troops</h4>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label for="attInfantry" class="block text-gray-300 mb-1">Infantry:</label>
                    <input type="number" id="attInfantry" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div>
                    <label for="attRanged" class="block text-gray-300 mb-1">Ranged:</label>
                    <input type="number" id="attRanged" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div>
                    <label for="attBomber" class="block text-gray-300 mb-1">Bomber:</label>
                    <input type="number" id="attBomber" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div>
                    <label for="attAirmen" class="block text-gray-300 mb-1">Airmen:</label>
                    <input type="number" id="attAirmen" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div>
                    <label for="attCommander" class="block text-gray-300 mb-1">Commander:</label>
                    <input type="number" id="attCommander" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div>
                    <label for="attCharger" class="block text-gray-300 mb-1">Charger:</label>
                    <input type="number" id="attCharger" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                </div>
                <h4 class="text-xl font-semibold mt-4">Defender Troops</h4>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label for="defInfantry" class="block text-gray-300 mb-1">Infantry:</label>
                    <input type="number" id="defInfantry" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div>
                    <label for="defRanged" class="block text-gray-300 mb-1">Ranged:</label>
                    <input type="number" id="defRanged" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div>
                    <label for="defBomber" class="block text-gray-300 mb-1">Bomber:</label>
                    <input type="number" id="defBomber" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div>
                    <label for="defAirmen" class="block text-gray-300 mb-1">Airmen:</label>
                    <input type="number" id="defAirmen" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div>
                    <label for="defCommander" class="block text-gray-300 mb-1">Commander:</label>
                    <input type="number" id="defCommander" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                  <div>
                    <label for="defCharger" class="block text-gray-300 mb-1">Charger:</label>
                    <input type="number" id="defCharger" value="0" class="w-full p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100" />
                  </div>
                </div>
                <button onclick="simulateWar()" class="bg-primary text-white px-4 py-2 rounded mt-2 hover:bg-primary/90">Simulate War</button>
                <div class="mt-4 text-gray-200" id="warResult"></div>
                <a href="javascript:void(0)" onclick="toggleAdvanced('war')" class="block mt-4 text-primary font-bold">
                  Advanced <span id="warAdvancedToggle">▼</span>
                </a>
                <div id="warAdvanced" class="mt-4 hidden space-y-4">
                  <div id="warAdvancedInfo" class="text-gray-200"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer (same as main page) -->
    <footer class="bg-[#0F0B1E] text-white py-12">
      <div class="max-w-7xl mx-auto px-4">
        <div class="grid md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-xl font-bold mb-4">Server Status</h3>
            <div class="flex items-center">
              <span class="w-3 h-3 bg-green-500 rounded-full mr-2"></span>
              <span>Online - 20+ Players</span>
            </div>
          </div>
          <div>
            <h3 class="text-xl font-bold mb-4">Quick Links</h3>
            <ul class="space-y-2">
              <li>
                <a href="https://rules.origin-mc.net" class="hover:text-primary">Server Rules</a>
              </li>
              <li>
                <a href="http://map.origin-mc.net:24935" class="hover:text-primary">Dynamic Map</a>
              </li>
              <li>
                <a href="https://originzero.flarum.cloud/" class="hover:text-primary">Public Forums</a>
              </li>
            </ul>
          </div>
          <div>
            <h3 class="text-xl font-bold mb-4">Social Media</h3>
            <div class="flex space-x-4">
              <a href="https://discord.gg/cGBMrP8Bjg" class="hover:text-primary">
                <i class="ri-discord-line text-2xl"></i>
              </a>
              <a href="https://www.tiktok.com/@origimcs" class="hover:text-primary">
                <i class="ri-tiktok-line text-2xl"></i>
              </a>
              <a href="https://www.youtube.com/channel/UCkrNk04k13xOnozIJ-7JXHw" class="hover:text-primary">
                <i class="ri-youtube-line text-2xl"></i>
              </a>
              <a href="https://www.instagram.com/originmcs" class="hover:text-primary">
                <i class="ri-instagram-line text-2xl"></i>
              </a>
            </div>
          </div>
          <div>
            <h3 class="text-xl font-bold mb-4">Contact</h3>
            <p class="text-gray-400">
              <a href="mailto:originmc@icloud.com" class="hover:text-primary">originmc@icloud.com</a>
            </p>
          </div>
        </div>
        <div class="mt-12 pt-8 border-t border-gray-800 text-center text-gray-400">
          <p>Handcrafted by @eightballz0</p>
        </div>
      </div>
    </footer>

    <div id="notification" class="fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg transform translate-y-full opacity-0 transition-all duration-300">
      Server IP copied to clipboard!
    </div>

    <!-- Scripts for Tab Switching and Calculators -->
    <script>
      // Tab switching logic
      const tabButtons = document.querySelectorAll('.tab-button');
      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          const tab = button.getAttribute('data-tab');
          document.querySelectorAll('.tab-content').forEach(content => {
            content.classList.add('hidden');
          });
          document.getElementById(tab).classList.remove('hidden');
          tabButtons.forEach(btn => btn.classList.remove('border-primary'));
          button.classList.add('border-primary');
        });
      });
      document.addEventListener('DOMContentLoaded', () => {
        if (tabButtons.length) {
          tabButtons[0].click();
        }
      });

      // Toggle advanced sections for each tool
      function toggleAdvanced(tool) {
        const advSection = document.getElementById(tool + 'Advanced');
        const toggleSpan = document.getElementById(tool + 'AdvancedToggle');
        if (advSection.classList.contains('hidden')) {
          advSection.classList.remove('hidden');
          toggleSpan.innerText = '▲';
        } else {
          advSection.classList.add('hidden');
          toggleSpan.innerText = '▼';
        }
      }

      // Happiness Calculator function
      function calculateHappiness() {
        const population = parseFloat(document.getElementById('happinessPopulation').value) || 0;
        const avgDistance = parseFloat(document.getElementById('happinessAvgDistance').value) || 0;
        const percSheltered = parseFloat(document.getElementById('happinessPercSheltered').value) || 0;
        const taxrate = parseFloat(document.getElementById('happinessTaxrate').value) || 0;
        const interval = parseFloat(document.getElementById('happinessInterval').value) || 120;
        const maxTaxrate = parseFloat(document.getElementById('happinessMaxTaxrate').value) || 20;
      
        const term1 = (avgDistance / 16) * 100;
        const term2 = percSheltered;
        const taxComponent = Math.max(0, 100 - (((taxrate - 1) / 19) * 100));
        const term3 = (taxComponent * (term1 + term2)) / 200;
        const happiness = (1 / 3) * (term1 + term2 + term3);
      
        const revenueBase = population * taxrate;
        const expectedRevenue = revenueBase * (1 - (happiness / 100));
      
        document.getElementById('happinessResult').innerHTML = `
          <p>Overall Happiness: ${happiness.toFixed(2)}%</p>
          <p>Expected Revenue: ${expectedRevenue.toFixed(2)}</p>
        `;
        document.getElementById('happinessAdvancedInfo').innerHTML = `<strong>Interval:</strong> ${interval} &nbsp;&nbsp; <strong>Max Taxrate:</strong> ${maxTaxrate}`;
      }

      // Housing Calculator function
      function calculateHousing() {
        const population = parseFloat(document.getElementById('housingPopulation').value) || 0;
        const multiplier = parseFloat(document.getElementById('housingMultiplier').value) || 2;
        const price = Math.round(population * multiplier);
        document.getElementById('housingResult').innerHTML = `<p>Housing Block Price: ${price}</p>`;
        document.getElementById('housingAdvancedInfo').innerHTML = `<strong>Multiplier:</strong> ${multiplier}`;
      }

      // Territory Calculator function
      function calculateTerritory() {
        const chunks = parseFloat(document.getElementById('territoryChunks').value) || 0;
        const divisor = parseFloat(document.getElementById('territoryDivisor').value) || 2;
        const price = Math.round(chunks / divisor);
        document.getElementById('territoryResult').innerHTML = `<p>Territory Price: ${price} Warscore</p>`;
        document.getElementById('territoryAdvancedInfo').innerHTML = `<strong>Divisor:</strong> ${divisor}`;
      }

      // Multi-Drill Efficiency Calculator functions
      let drillCount = 0;
      const drillTypes = {
        basic: { basePrice: 150, interval: 120, amount: 4 },
        advanced: { basePrice: 500, interval: 60, amount: 8 },
        specialized: { basePrice: 1000, interval: 30, amount: 16 }
      };

      function addDrill() {
        drillCount++;
        const drillDiv = document.createElement('div');
        drillDiv.className = 'drill-container flex items-center space-x-2';
        drillDiv.id = `drill-${drillCount}`;
        drillDiv.innerHTML = `
          <select id="drillType-${drillCount}" class="p-2 rounded border border-gray-600 bg-[#0F0B1E] text-gray-100">
            <option value="basic">Basic Drill</option>
            <option value="advanced">Advanced Drill</option>
            <option value="specialized">Specialized Drill</option>
          </select>
          <button onclick="removeDrill(${drillCount})" class="bg-red-500 text-white px-2 py-1 rounded">Remove</button>
        `;
        document.getElementById('drillList').appendChild(drillDiv);
      }

      function removeDrill(id) {
        const elem = document.getElementById(`drill-${id}`);
        if (elem) {
          elem.remove();
        }
      }

      function calculateDrill() {
        const runtime = parseFloat(document.getElementById('drillRuntime').value) || 0;
        const drillElements = document.querySelectorAll('#drillList .drill-container select');
        let totalStratium = 0, totalBasePrice = 0;
        drillElements.forEach(select => {
          const type = select.value;
          const { basePrice, interval, amount } = drillTypes[type];
          const cycles = Math.floor(runtime / interval);
          totalStratium += cycles * amount;
          totalBasePrice += basePrice;
        });
        const stratiumPerMinute = (totalStratium / runtime).toFixed(4);
        const roi = (totalStratium / totalBasePrice).toFixed(4);
        document.getElementById('drillResult').innerHTML = `
          <p><strong>Total Runtime:</strong> ${runtime} minutes</p>
          <p><strong>Total Stratium Produced:</strong> ${totalStratium}</p>
          <p><strong>Overall Efficiency:</strong> ${stratiumPerMinute} Stratium/minute</p>
          <p><strong>ROI:</strong> ${roi} Stratium per Warscore</p>
        `;
        // Optionally, update advanced stats here.
        document.getElementById('drillAdvanced').innerHTML = '';
      }

      // Factory Supply Calculator function
      function calculateFactory() {
        const currentFactories = parseFloat(document.getElementById('currentFactories').value) || 0;
        const nextFactoryPrice = currentFactories * 20 + 300;
        const currentSupply = currentFactories * 10;
        const currentUpkeep = currentFactories * 24;
        let resultHTML = `<p><strong>Next Factory Price:</strong> ${nextFactoryPrice} Warscore</p>`;
        resultHTML += `<p><strong>Current Supply:</strong> ${currentSupply}</p>`;
        resultHTML += `<p><strong>Daily Upkeep:</strong> ${currentUpkeep} Stratium/day</p>`;
      
        let totalCost = 0;
        const additional = parseFloat(document.getElementById('additionalFactories').value) || 0;
        for (let i = 0; i < additional; i++) {
          totalCost += ((currentFactories + i) * 20 + 300);
        }
        const newTotal = currentFactories + additional;
        const newSupply = newTotal * 10;
        const newUpkeep = newTotal * 24;
      
        let advancedHTML = `<p><strong>Total Cost for ${additional} Additional Factories:</strong> ${totalCost} Warscore</p>`;
        advancedHTML += `<p><strong>New Total Factories:</strong> ${newTotal}</p>`;
        advancedHTML += `<p><strong>New Total Supply:</strong> ${newSupply}</p>`;
        advancedHTML += `<p><strong>New Daily Upkeep:</strong> ${newUpkeep} Stratium/day</p>`;
      
        document.getElementById('factoryResult').innerHTML = resultHTML;
        document.getElementById('factoryAdvancedInfo').innerHTML = advancedHTML;
      }

      // War Simulator function
      function simulateWar() {
        const scores = { infantry: 10, ranged: 20, bomber: 20, airmen: 40, commander: 100, charger: 100 };
        const attInfantry = parseInt(document.getElementById('attInfantry').value) || 0;
        const attRanged = parseInt(document.getElementById('attRanged').value) || 0;
        const attBomber = parseInt(document.getElementById('attBomber').value) || 0;
        const attAirmen = parseInt(document.getElementById('attAirmen').value) || 0;
        const attCommander = parseInt(document.getElementById('attCommander').value) || 0;
        const attCharger = parseInt(document.getElementById('attCharger').value) || 0;
      
        const defInfantry = parseInt(document.getElementById('defInfantry').value) || 0;
        const defRanged = parseInt(document.getElementById('defRanged').value) || 0;
        const defBomber = parseInt(document.getElementById('defBomber').value) || 0;
        const defAirmen = parseInt(document.getElementById('defAirmen').value) || 0;
        const defCommander = parseInt(document.getElementById('defCommander').value) || 0;
        const defCharger = parseInt(document.getElementById('defCharger').value) || 0;
      
        const attackerScore = (attInfantry * scores.infantry) + (attRanged * scores.ranged) + (attBomber * scores.bomber) + (attAirmen * scores.airmen) + (attCommander * scores.commander) + (attCharger * scores.charger);
        const defenderScore = (defInfantry * scores.infantry) + (defRanged * scores.ranged) + (defBomber * scores.bomber) + (defAirmen * scores.airmen) + (defCommander * scores.commander) + (defCharger * scores.charger);
      
        const frontline = parseInt(document.getElementById('frontline').value) || 0;
      
        let winner = "";
        if (attackerScore > defenderScore) {
          winner = "Attacker";
        } else if (defenderScore > attackerScore) {
          winner = "Defender";
        } else {
          winner = "Tie";
        }
      
        const totalScore = attackerScore + defenderScore;
        let diffRatio = totalScore ? Math.abs(attackerScore - defenderScore) / totalScore : 0;
        const chunksTaken = Math.round(frontline * diffRatio / 2);
      
        let resultHTML = `<p><strong>Winner:</strong> ${winner}</p>`;
        resultHTML += `<p><strong>Attacker Warscore:</strong> ${attackerScore}</p>`;
        resultHTML += `<p><strong>Defender Warscore:</strong> ${defenderScore}</p>`;
        resultHTML += `<p><strong>Frontline Chunks:</strong> ${frontline}</p>`;
        resultHTML += `<p><strong>Estimated Chunks ${winner === "Tie" ? "Exchanged" : "Taken"}:</strong> ${chunksTaken}</p>`;
      
        document.getElementById('warResult').innerHTML = resultHTML;
        let advancedHTML = `<p><strong>Difference Ratio:</strong> ${(diffRatio * 100).toFixed(2)}%</p>`;
        advancedHTML += `<p><strong>Attacker Breakdown:</strong> Infantry: ${attInfantry * scores.infantry}, Ranged: ${attRanged * scores.ranged}, Bomber: ${attBomber * scores.bomber}, Airmen: ${attAirmen * scores.airmen}, Commander: ${attCommander * scores.commander}, Charger: ${attCharger * scores.charger}</p>`;
        advancedHTML += `<p><strong>Defender Breakdown:</strong> Infantry: ${defInfantry * scores.infantry}, Ranged: ${defRanged * scores.ranged}, Bomber: ${defBomber * scores.bomber}, Airmen: ${defAirmen * scores.airmen}, Commander: ${defCommander * scores.commander}, Charger: ${defCharger * scores.charger}</p>`;
        document.getElementById('warAdvancedInfo').innerHTML = advancedHTML;
      }
    </script>
  </body>
</html>
